<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:itsc="http://www.itelasoft.com/facescomponents"
	xmlns:itsa="http://www.itelasoft.com/faces/components">

<composite:interface>
	<composite:attribute name="fileName" default="file" />
</composite:interface>

<composite:implementation>

	<ice:panelPopup modal="true" draggable="true" positionOnLoadOnly="true"
		autoCentre="true" rendered="#{reminderManagerModel.visibleReminder}">
		<f:facet name="header">
			<ice:panelGroup styleClass="popupHeaderWrapper">
				<ice:outputText value="Unread reminders"
					styleClass="popupHeaderText" />
				<ice:commandButton type="button" id="popClose"
					image="#{msgs['panelPopup.closeImage']}"
					actionListener="#{reminderManagerModel.reminderPopup}"
					styleClass="popupHeaderImage" title="Close Popup" alt="Close" />
			</ice:panelGroup>
		</f:facet>
		<f:facet name="body">
			<ice:panelGroup style="width:690px;margin-top:10px">
				<ice:outputLabel
					value="Please select a reminder from below table and click open to view details.." />
				<ice:dataTable id="tableReminders" scrollable="true"
					columnWidths="100px,100px,300px,150px" scrollHeight="300px"
					value="#{reminderManagerModel.reminders}" var="rem">
					<ice:column style="text-align:center">
						<ice:rowSelector id="rowSelectReminder" value="#{rem.ui_selected}"
							clickListener="#{reminderManagerModel.selectReminder}"
							styleClass="#{reminderManagerModel.getHighlight(rem.remindOn, rem.status)}">
							<f:attribute name="reminder" value="#{rem}" />
						</ice:rowSelector>
						<f:facet name="header">
							<ice:outputText value="Created Date" />
						</f:facet>
						<ice:outputText value="#{rem.createdDate}"
							converter="dateConverter" />
					</ice:column>
					<ice:column style="text-align:center">
						<f:facet name="header">
							<ice:outputText value="Remind-on Date" />
						</f:facet>
						<ice:outputText value="#{rem.remindOn}" converter="dateConverter" />
					</ice:column>
					<ice:column>
						<f:facet name="header">
							<ice:outputText value="Description" />
						</f:facet>
						<ice:outputText value="#{rem.note}" />
					</ice:column>
					<ice:column style="text-align:center">
						<f:facet name="header">
							<ice:outputText value="Type" />
						</f:facet>
						<ice:outputText value="#{rem.type.id}" />
					</ice:column>
				</ice:dataTable>
				<ice:commandButton id="commandOpenReminder" value="Open Reminder"
					style="width:130px;float:right;margin-top:10px"
					styleClass="CommandButton"
					action="#{reminderManagerModel.openReminder}"
					disabled="#{reminderManagerModel.reminder == null}" />
			</ice:panelGroup>
		</f:facet>
	</ice:panelPopup>

</composite:implementation>
</html>